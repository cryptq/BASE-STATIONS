Please note the following:

1- Transmitter has been transformed to floating point
2- The phase recovery should be done with averaging. 
3- the receiver part can be simplified with demapper
